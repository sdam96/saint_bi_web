{{define "dashboard-content"}}
<div style="text-align: center; padding: 20px;">
    <h1>Dashboard Gerencial</h1>
    <div id="connection-selector">
        <label for="connection_id">Seleccionar Conexión:</label>
        <select name="connection_id" hx-post="/dashboard/select-connection" hx-target="#dashboard-data" hx-swap="innerHTML">
            <option value="">-- Seleccione una conexión --</option>
            {{range .Connections}}
            <option value="{{.ID}}" {{if eq .ID $.SelectedConnectionID}}selected{{end}}>{{.Alias}}</option>
            {{end}}
        </select>
    </div>
</div>

<div id="dashboard-data" class="dashboard-grid">
    {{if .Summary}}
        {{template "summary-data" .}}
    {{else if .Error}}
        <p style="color:red; text-align:center;">Error al cargar los datos: {{.Error}}</p>
    {{else if .SelectedConnectionID}}
         <div hx-get="/dashboard/data?connection_id={{.SelectedConnectionID}}" hx-trigger="load" hx-swap="innerHTML">
            <p style="text-align:center;">Cargando datos...</p>
        </div>
    {{else}}
        <p style="text-align:center;">Seleccione una conexión para ver los datos.</p>
    {{end}}
</div>
{{end}}